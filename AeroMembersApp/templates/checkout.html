{% extends "base.html" %}
{%block content%}
{%include 'header.html'%}
<div class="container text-center" ng-controller="checkoutCtrl">
    Your order: 
    <br><br>
    {%verbatim%}
  	<div class="border rounded" ng-repeat="orderLine in order">
  		{{ orderLine.item__name }} : {{ orderLine.item__description }} : {{ orderLine.price }}
      <div ng-show="orderLine.discount">Discount Applied</div>
  	</div>
    <div>
      Total: {{ total }}
    </div>
    <div>
      <input type="text" ng-model="discountCode" placeholder-text="Discount Code">
      <button ng-click="applyDiscount(discountCode)">Apply</button>
    </div>
  	{% endverbatim %}
  <a href="#" ng-click="newPaymentMethod()" ng-show="!showAddPaymentMethod">New Payment Method</a>
  <div ng-show="showAddPaymentMethod">
    <div id="braintree-dropin"></div>
    <button ng-click="addPaymentMethod()">Add Payment Method</button>
  </div>

  <br><br>
  <button ng-click="pay()">Continue</button>
</div>
{%endblock%}